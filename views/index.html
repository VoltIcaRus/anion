<!DOCTYPE html>
<html ng-app="AniON">
	<head>
		<title>Ani-ON</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
		<meta name="author" content="Zn">
		<meta name="description" content="Ani-ON">
		<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/normalize/3.0.1/normalize.min.css">
		<link rel="stylesheet" href="css/anion.css">
	</head>
	<body>
		<div id="titlebar" class="titlewrap" ng-controller="TitlebarCtrler">
			<div class="titleinwrap">
				<div class="titlebar">
					<a id="left-button" class="button hidden"></a>
					<div class="title">
						<a href=".">asdf</a>
					</div>
					<a id="right-button" class="button" ng-click="toggleMenu()">
						<img alt="메뉴" height="20" src="img/menu.svg">
					</a>
				</div>
				<div class="menuwrapper">
					<div id="menu" ng-show="menuVisible">
						<!--
						<div id="today"><span class="date"></span></div>
						-->
						<div id="search">
							<form id="searchform" ng-submit="searchAniList($event)">
								<div class="innerwrap">
									<div class="query">
										<input name="q"  ng-model="formdata.query">
									</div>
									<div class="submit">
										<input type="submit" value="검색">
									</div>
								</div>
							</form>
						</div>
						<div id="mainmenu">
							<a class="item" ng-click="showWeekday($event, 7)">외전/극장판</a>
							<a class="item" ng-click="showWeekday($event, 8)">신작</a>
							<a class="item" ng-click="showWeekday($event, 9)">종영</a>
						</div>
						<hr class="divider">
					</div>
					<nav class="weekdaybar">
						<a class="weekday" ng-class="{highlight: currentWeekday === 0}" ng-click="showWeekday($event, 0)">일</a>
						<div class="divider"></div><a class="weekday" ng-class="{highlight: currentWeekday === 1}" ng-click="showWeekday($event, 1)">월</a>
						<div class="divider"></div><a class="weekday" ng-class="{highlight: currentWeekday === 2}" ng-click="showWeekday($event, 2)">화</a>
						<div class="divider"></div><a class="weekday" ng-class="{highlight: currentWeekday === 3}" ng-click="showWeekday($event, 3)">수</a>
						<div class="divider"></div><a class="weekday" ng-class="{highlight: currentWeekday === 4}" ng-click="showWeekday($event, 4)">목</a>
						<div class="divider"></div><a class="weekday" ng-class="{highlight: currentWeekday === 5}" ng-click="showWeekday($event, 5)">금</a>
						<div class="divider"></div><a class="weekday" ng-class="{highlight: currentWeekday === 6}" ng-click="showWeekday($event, 6)">토</a>
						<!--
						<div class="divider"></div><a class="weekday" ng-class="{highlight: currentWeekday === 7}" ng-click="showWeekday($event, 7)">외</a>
						<div class="divider"></div><a class="weekday" ng-class="{highlight: currentWeekday === 8}" ng-click="showWeekday($event, 8)">신</a>
						-->
					</nav>
				</div>
			</div>
		</div>
		<main>
			<div id="ani-list" ng-controller="AniListCtrler">
				<a href="#/ani/{{ani.id}}" class="item" ng-repeat="ani in anis" title="{{ani.json}}">
					<div class="title">
						{{ani.title}}
					</div>
					<div class="info">
						<span class="weekday" ng-if="ani.weekday">{{ani.weekday}}</span>
						<span class="time">{{ani.time}}</span>
						<br>
						<span class="state" ng-if="ani.state">{{ani.state}}</span>
						<span class="genre">{{ani.genre}}</span>
					</div>
				</a>
				<div class="no-result" ng-show="anis.length == 0">
					검색결과가 없습니다.
				</div>
				<div id="pages" ng-controller="AniListPageCtrler">
					<a class="page" ng-if="pages.length >= 2" ng-repeat="page in pages track by $index" ng-click="showPage($event, page)" ng-class="{highlight: page === current_page}">
						{{page}}
					</a>
				</div>
			</div>
		</main>
		<footer>
			<noscript class="warning">현재 자바스크립트가 꺼져있어서 기능이 동작하지 않을 수 있습니다.<br><a href="http://www.enable-javascript.com/ko/">자바스크립트를 켜주세요.</a></noscript>
			<p>Ani-ON, Yet another animation time-table.<br>API: <a href="http://www.anissia.net/?m=3">Anissia</a></p>
		</footer>
		<!--
		<script type="text/html" id="T_detail">
			{{#ani}}
			<div class="header">
				<div class="title">
					<span class="text">{{title}}</span>
					{{#state}}
					<span class="state">{{state}}</span>
					{{/state}}
				</div>
				<div class="info">
					{{#comingsoon}}
						<div class="row">
							<div class="label">방영예정날짜</div>
							<div class="value">{{comingsoon}}</div>
						</div>
					{{/comingsoon}}
					{{#onair}}
						<div class="row">
							<div class="label">시간</div>
							<div class="value">{{weekday}} {{time}}</div>
						</div>
					{{/onair}}
					{{^onair}}
						<div class="row">
							<div class="label">방영날짜</div>
							<div class="value">{{startdate_f}}</div>
						</div>
						{{#ended}}
							<div class="row">
								<div class="label">종영날짜</div>
								<div class="value">{{enddate_f}}</div>
							</div>
						{{/ended}}
					{{/onair}}
				</div>
				todo: groupname --- group-name @ css
				<div class="body">
					<div class="group-name">
						{{#caps}}
							{{#url}}
								<a class="caption" href="{{url}}" title="{{url}}">
									<div class="episode">{{episode}}화</div>
									<div class="name">{{name}}</div>
									<div class="updateat">{{updateat}}</div>
								</a>
							{{/url}}
							{{^url}}
								<a class="caption no-url" href="javascript:alert("주소가 없습니다.")" title="주소가 없습니다.">
									<div class="episode">{{episode}}화</div>
									<div class="name">{{name}}</div>
									<div class="updateat">{{updateat}}</div>
								</a>
							{{/url}}
						{{/caps}}
						{{^caps}}
							<div class="notfound">
								자막제작자를 찾을 수 없습니다.
							</div>
						{{/caps}}
					</div>
				</div>
			</div>
			{{/ani}}
		</script>
		-->
		<!--
		<script src="//cdnjs.cloudflare.com/ajax/libs/crossroads/0.12.0/crossroads.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/ICanHaz.js/0.10.3/ICanHaz.min.js"></script>
		-->
		<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.4/moment-with-locales.min.js"></script>
		<script>moment.locale('ko');</script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.8/angular.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.8/angular-route.min.js"></script>
		<script src="js/anion.js"></script>
	</body>
</html>
